matrix:
  include:
    language: python
    python:
      - "2.7"
    env:
      - DJANGO=1.11
    install:
      - pip install -r backend/pima/requirements.txt
      - pip install coveralls
    before_script:
      - cd backend/pima
      - python manage.py migrate
    script:
      - coverage run --source='.' manage.py test --settings=pima.settings.test
    after_success:
      - coveralls
  include:
    language: node_js
    node_js:
      - '5.0.0'
    install:
      - cd frontend
      - npm install
    script:
      - npm run test-coverage
      - npm run lint

  include:
    language: python
    python:
      - "2.7"
    install:
      - pip install -r iot/client/requirements.txt
      - pip install coveralls
    before_script:
      - cd io/client
      - python socket_client.py 
    script:
      - coverage run --source='.' tests/test_socket_client_unittest.py
    after_success:
      - coveralls

notifications:
  slack: kaweddemu:wPmFWij7VXKuAqhjDKbTs6TK
